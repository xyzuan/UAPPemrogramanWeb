<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UAP Pemrograman Web | Jody Yuantoro</title>
  </head>
  <body
    style="
      font-family: Arial, Helvetica, sans-serif;
      background-color: cornflowerblue;
      display: flex;
      flex-direction: column;
      width: 100vw;
      height: 100vh;
      justify-content: center;
      align-items: center;
    "
  >
    <div
      style="
        display: flex;
        flex-direction: column;
        align-items: center;
        color: white;
      "
    >
      <h1 style="text-align: center">
        UAP Pemrograman Web<br /><span style="font-size: large"
          >Jody Yuantoro 202110370311147</span
        >
      </h1>
    </div>
    <div style="background-color: white; border-radius: 32px; padding: 32px">
      <h2>Data Barang</h2>
      <table style="width: 100%; text-align: left">
        <tr>
          <th>Kode</th>
          <th>Nama Barang</th>
          <th>Harga</th>
        </tr>
        <tr>
          <td>001</td>
          <td>Xiaomi Poco F5</td>
          <td>Rp. 10.000</td>
        </tr>
        <tr>
          <td>002</td>
          <td>Xiaomi Poco F3</td>
          <td>Rp. 20.000</td>
        </tr>
        <tr>
          <td>003</td>
          <td>Xiaomi Poco F1</td>
          <td>Rp. 30.000</td>
        </tr>
        <div id="data"></div>
      </table>
      <h2>Inputan User</h2>
      <div>
        <div>
          <p>Masukkan Kode</p>
          <input style="width: 100%" id="kode" />
        </div>
        <div>
          <p>Jumlah Barang</p>
          <input style="width: 100%" id="jumlah" />
        </div>
      </div>
      <button
        style="
          font-size: medium;
          font-weight: 500;
          color: white;
          width: 100%;
          margin-top: 18px;
          background-color: darkslateblue;
          padding: 18px;
          border-radius: 32px;
          box-shadow: none;
        "
        onclick="submitHandler()"
      >
        Submit
      </button>
    </div>
  </body>
  <script>
    const dataBarang = [
      {
        kodeBarang: "001",
        namaBarang: "Xiaomi Poco F5",
        hargaSatuan: 10000,
      },
      {
        kodeBarang: "002",
        namaBarang: "Xiaomi Poco F3",
        hargaSatuan: 20000,
      },
      {
        kodeBarang: "003",
        namaBarang: "Xiaomi Poco F1",
        hargaSatuan: 30000,
      },
    ];

    function submitHandler() {
      const kodeInput = document.getElementById("kode").value;
      const jumlahBarangInput = parseInt(
        document.getElementById("jumlah").value
      );

      let totalHarga;
      let hargaSatuan;
      let namaBarang;
      let isAvailable;

      if (kodeInput !== "" && jumlahBarangInput !== NaN) {
        if (kodeInput === "001") {
          isAvailable = true;
          hargaSatuan = dataBarang[0].hargaSatuan;
          namaBarang = dataBarang[0].namaBarang;
          totalHarga = hargaSatuan * jumlahBarangInput;
        } else if (kodeInput === "002") {
          isAvailable = true;
          hargaSatuan = dataBarang[1].hargaSatuan;
          namaBarang = dataBarang[1].namaBarang;
          totalHarga = hargaSatuan * jumlahBarangInput;
        } else if (kodeInput === "003") {
          isAvailable = true;
          hargaSatuan = dataBarang[2].hargaSatuan;
          namaBarang = dataBarang[2].namaBarang;
          totalHarga = hargaSatuan * jumlahBarangInput;
        } else {
          isAvailable = false;
          alert("Barang tidak tersedia");
        }

        if (isAvailable) {
          alert(
            `Total pembayaran (( ${namaBarang} * ${jumlahBarangInput} ) x ${hargaSatuan}): ${totalHarga}`
          );
          const uangUser = window.prompt("masukkan uang user: ");

          if (parseInt(uangUser) !== NaN) {
            if (parseInt(uangUser) < totalHarga) {
              alert("Uang anda kurang");
            } else if (parseInt(uangUser) > totalHarga) {
              alert(
                `Total kembalian anda adalah: ${
                  parseInt(uangUser) - totalHarga
                }`
              );
            } else if (parseInt(uangUser) === totalHarga) {
              alert("Uang anda pas");
            } else {
              alert("Anda harus mengisi uang pembeli");
            }
          }
        }
      } else {
        alert("Anda harus mengisi data");
      }
    }
  </script>
</html>
